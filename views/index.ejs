<% include ./partials/header %>

<div class="container" id="main-container">
	<h1>Create SKUs</h1>
	<form onsubmit="return validateColors()" action="/skuCreation" method="POST">
		<input type="text" name="sku[parent]" placeholder="Parent SKU" required="true">
		<input type="text" name="variantTitle" placeholder="Title" required="true">
		
		<div class="addFieldsContainer">
			<span id="fb-container">
				<input type="text" name="fbCode[]" data-fbIndex="0" placeholder="Fabric Book">
				<button id="fb-add-btn" type="button" onclick="addFbCode()">Add FB</button>
			</span>
			

			<span id="trim-container">
				<input type="text" name="trimCode[]" data-trimIndex="0" placeholder="Trim">
				<button id="trim-add-btn" type="button" onclick="addTrimCode()">Add Trim</button>
			</span>
		</div>

		<div class='inputSet'>
			<label for="classification">Classification: </label>
			<select name="classification" id="classification" required="true" onchange="showNeckType(this)">
				<option value="" selected>Select One</option>
				<<% allClass.forEach(classification => { %>
					<% if (classification.isEnabled) { %>
					<option value="<%= classification.name %>"><%= classification.name %></option>
					<% }; %>
				<% }); %>>
			</select>

			<label for="brand">Brand: </label>
			<select name="brand" id="brand" required="true">
				<option value="AMARYLLIS" selected="true">AMARYLLIS</option>
				<option value="AMA By Amaryllis">AMA By Amaryllis</option>
				<option value="REFLECTION">REFLECTION</option>
			</select>

			<label for="department">Department: </label>
			<select name="department" id="department">
				<option value="" selected>Select One</option>
				<option value="Women's">Women's</option>
				<option value="Men's">Men's</option>
				<option value="Home">Home</option>
				<option value="Misc.">Misc.</option>
			</select>
		</div>

		<span class="hidden-input" id="inseam-contain">
			<label for="inseam">Inseam: </label>
			<input type="text" name="inseam" id="inseam" placeholder="15 in">
		</span>

		<span class="hidden-input" id="hps-contain">
			<label for="hps">High Point of Shoulder(HPS): </label>
			<input type="text" name="hps" id="hps" placeholder="13 in">
		</span>
		
		<label for="regWeight">Weight (in oz): </label>
		<input type="number" name="regWeight" id="regWeight" placeholder="8" step="1">

		<label for="plusWeight">Plus Weight: </label>
		<input type="number" name="plusWeight" id="plusWeight" placeholder="10" step="1">

		<span class="hidden-input" id="neck-contain">
			<label for="neckType">Neck Type: </label>
			<select name="neckType" id="neckType">
				<option value="" selected>Select One</option>
				<option value="Crew neck">Crew neck</option>
				<option value="Boat neck">Boat neck</option>
				<option value="V-Neck">V-Neck</option>
				<option value="Mock">Mock</option>
				<option value="Turtle">Turtle</option>
				<option value="Jewel">Jewel</option>
				<option value="Cowl">Cowl</option>
				<option value="Square">Square</option>
				<option value="Scoop">Scoop</option>
				<option value="Keyhole">Keyhole</option>
				<option value="Sweetheart">Sweetheart</option>
				<option value="Off Shoulder">Off Shoulder</option>
				<option value="Halter">Halter</option>
				<option value="Collar">Collar</option>
				<option value="Strapless">Strapless</option>
				<option value="Round">Round</option>
				<option value="One shoulder">One Shoulder</option>
				<option value="Straight">Straight</option>
				<option value="Hooded">Hooded</option>
			</select>
		</span>

		<span id="class-contain">
			<label for="class">Class: </label>
			<select name="class" id="class">
				<option value="" selected>Select class</option>
				<option value="T-Shirt">T-Shirt</option>
				<option value="Blouse">Blouse</option>
				<option value="Tank">Tank</option>
				<option value="Cami">Cami</option>
				<option value="Cropped">Cropped</option>
				<option value="Henley">Henley</option>
				<option value="Cover Up">Cover Up</option>
				<option value="Shorts">Shorts</option>
				<option value="Pants">Pants</option>
				<option value="Skirt">Skirt</option>
				<option value="Jacket">Jacket</option>
				<option value="Cardigan">Cardigan</option>
				<option value="Hats">Hats</option>
				<option value="Bags">Bags</option>
				<option value="Tankini/One Piece">Tankini/One Piece</option>
				<option value="Bikini Top">Bikini Top</option>
				<option value="Bikini Bottoms">Bikini Bottoms</option>
				<option value="Bodysuit">Bodysuit</option>
				<option value="Jewelry">Jewelry</option>
				<option value="Belt">Belt</option>
				<option value="Bustier">Bustier</option>
				<option value="Corset">Corset</option>
				<option value="Poncho">Poncho</option>
				<option value="Tunic">Tunic</option>
				<option value="Top">Top</option>
			</select>
		</span>

		<span id="sub-class-contain">
			<label for="sub-class">Sub-class: </label>
			<select name="sub-class" id="sub-class">
				<option value="" selected>Select One</option>
				<option value="Mini">Mini</option>
				<option value="Knee Length">Knee Length</option>
				<option value="Midi Length">Midi Length</option>
				<option value="Maxi">Maxi</option>
				<option value="Bermuda">Bermuda</option>
				<option value="Capri">Capri</option>
				<option value="Ankle">Ankle</option>
				<option value="Legging">Legging</option>
				<option value="Jegging">Jegging</option>
				<option value="Full Length">Full Length</option>
				<option value="Joggers">Joggers</option>
				<option value="Crossbody">Crossbody</option>
				<option value="Clutch">Clutch</option>
				<option value="Handbag">Handbag</option>
				<option value="Tote">Tote</option>
				<option value="Necklace">Necklace</option>
				<option value="Earrings">Earrings</option>
				<option value="Ring">Ring</option>
				<option value="Bracelet">Bracelet</option>
				<option value="Coat">Coat</option>
				<option value="Button Front">Button Front</option>
			</select>
		</span>

		<span id="sleeve-contain">
			<label for="sleev">Sleeve: </label>
			<select name="sleeve" id="sleeve">
				<option value="" selected>Select One</option>
				<option value="Sleeveless">Sleeveless</option>
				<option value="Cap Sleeve">Cap Sleeve</option>
				<option value="Short Sleeve">Short Sleeve</option>
				<option value="Elbow Sleeve">Elbow Sleeve</option>
				<option value="3/4 Sleeve">3/4 Sleeve</option>
				<option value="Long Sleeve">Long Sleeve</option>
				<option value="Bracelet Sleeve">Bracelet Sleeve</option>
			</select>
		</span>

		<span id="sleeve-sub-contain">
			<label for="sleeve-sub">Sleeve sub-type: </label>
			<select name="sleeve-sub" id="sleeve-sub">
				<option value="" selected>Select One</option>
				<option value="Blouson">Blouson</option>
				<option value="Flutter">Flutter</option>
				<option value="Rolled">Rolled</option>
				<option value="Peasant">Peasant</option>
				<option value="Puff">Puff</option>
				<option value="Raglan">Raglan</option>
				<option value="Batwing">Batwing</option>
				<option value="Dolman">Dolman</option>
				<option value="Cape">Cape</option>
				<option value="Gathered">Gathered</option>
				<option value="Self Tie">Self Tie</option>
			</select>
		</span>

		<span id="details-contain">
			<label for="details">Detail: </label>
			<select name="details" id="details">
				<option value="" selected>Select One</option>
				<option value="Embroidery">Embroidery</option>
				<option value="Embellishment">Embellishment</option>
				<option value="Lace">Lace</option>
				<option value="Crochet">Crochet</option>
				<option value="Graphic">Graphic</option>
				<option value="Fringe">Fringe</option>
				<option value="Slit">Slit</option>
				<option value="Mesh">Mesh</option>
				<option value="Stripes">Stripes</option>
				<option value="Tie">Tie</option>
			</select>
		</span>

		<span id="fit-contain">
			<label for="fit">Fit: </label>
			<select name="fit" id="fit">
				<option value="" selected>Select One</option>
				<option value="Skinny">Skinny</option>
				<option value="Flared">Flared</option>
				<option value="Straight">Straight</option>
				<option value="Relaxed ">Relaxed </option>
				<option value="Oversized">Oversized</option>
				<option value="Fitted">Fitted</option>
			</select>
		</span>

		<div id="colorFields">
			<div class="fabricBookFieldset">
				<input type="text" list="colorNameList" name="colorSet[color1][colorName]" placeholder="Color" required="true" onchange="fillColorCode(event)" class="colorName">
				<input type="text" name="colorSet[color1][colorCode]" placeholder="Color Code" required="true" readonly>
				<input type="text" name="colorSet[color1][pictureLink]" placeholder="Image Link">
				<div>
					<span class="fb-color-container">
						<input type="text" name="colorSet[color1][fbColor][]" data-fbColor="0" placeholder="FB Color Number">
					</span>
					<span class="trim-color-container">
							<input type="text" name="colorSet[color1][trimColor][]" data-trimColor="0" placeholder="Trim Color">
					</span>
				</div>
				<button type="button" id="addColor" onclick="addFields(colorFields)">Add Color</button>
			</div>
			<datalist id="colorNameList">
				<% allColors.forEach(color => { %>
					<option value="<%= color.color %>">
				<% }); %>
			</datalist>
		</div>
		
		<fieldset>
			<legend>Sizes</legend>
			<div id="sizeContainer">
				<label><input type="checkbox" name="size[]" value="XS">XS</label>
				<label><input type="checkbox" name="size[]" value="S">S</label>
				<label><input type="checkbox" name="size[]" value="M">M</label>
				<label><input type="checkbox" name="size[]" value="L">L</label>
				<label><input type="checkbox" name="size[]" value="XL">X</label>
				<label><input type="checkbox" name="size[]" value="P1X">P1X</label>
				<label><input type="checkbox" name="size[]" value="P2X">P2X</label>
				<label><input type="checkbox" name="size[]" value="P3X">P3X</label>
				<label><input type="checkbox" onclick="selectAll(this)">Select All</label>
				<br>
				<button type="button" class="sizeStyle" id="regSizing" onclick="sizeToggle('reg')">Standard</button>
				<button type="button" class="sizeStyle" id="kimonoSizing" onclick="sizeToggle('kimono')">Kimono</button>
				<button type="button" class="sizeStyle" id="denimSizing" onclick="sizeToggle('denim')">Denim</button>
				<button type="button" class="sizeStyle" id="sweaterSizing" onclick="sizeToggle('sweater')">Sweaters</button>
			</div>			
		</fieldset>
		

		<fieldset id="suppCost">
			<legend>Cost</legend>
			<div class="inputSet">
				<label for="suppName">Supplier: </label>
				<select name="supp[0][Name]" id="suppName" required="true" onchange="updateSupplier(this)">
					<option value="" selected>Select One</option>
					<<% allSupp.forEach(supplier => { %>
						<% if (supplier.isEnabled) { %>
						<option value="<%= supplier.name %>" data-id="<%= supplier._id %>"><%= supplier.name %></option>
						<% }; %>
					<% }); %>>
				</select>
				<label for="rawCost">Raw Cost: </label>
				<input type="number" name="supp[0][rawCost]" id="rawCost" step="0.01">
				<label for="plusRawCost">Plus Cost: </label>
				<input type="number" name="supp[0][plusCost]" id="plusRawCost" step="0.01">
				<button type="button" onclick="addSupplier()">Add Supplier</button>
			</div>
		</fieldset>
		
		<input type="submit">
	</form>

	<form id="newColorForm">
		<h3 class="newColorField">Add New Color</h3>
		<label for="newColor">New Color </label>
		<input type="text" name="newColor" id="newColor">
		<label for="newCode">New Code </label>
		<input type="text" name="newCode" id="newCode">
	</form>
	<button type="button" onclick="sendData('/colors', 'newColorForm', makeColor)">Create New Color</button>
</div>

<script type="text/javascript">
	<% allColorsString = JSON.stringify(allColors) %>
	var clientColorList = <%- allColorsString %>;
	<% allSupps = JSON.stringify(allSupp) %>
	var clientSuppList = <%- JSON.stringify(allSupp) %>;
</script>

<% include ./partials/footer %>